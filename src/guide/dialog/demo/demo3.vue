<template>
    <div style="width: 300px;height: 200px;background-color: cadetblue;" ref="to">
        <div ref="target" class="gray-400/30 rounded w-fit bg-black text-white p-4" :style="{ ...style }" v-if="visible">
            <div>ğŸ’¥å±é™©æç¤º</div>
            <button class="btn" @click="visible = false">å…³é—­</button>
        </div>
    </div>
    <div class=" flex justify-between mt-4">
        <button class="btn" @click="handlePlacement('auto')">ä¸­é—´</button>
        <button class="btn" @click="handlePlacement('t')">ä¸Š</button>
        <button class="btn" @click="handlePlacement('b')">ä¸‹</button>
        <button class="btn" @click="handlePlacement('l')">å·¦</button>
        <button class="btn" @click="handlePlacement('r')">å³</button>
        <button class="btn" @click="handlePlacement('lt')">å·¦ä¸Š</button>
        <button class="btn" @click="handlePlacement('lb')">å·¦ä¸‹</button>
        <button class="btn" @click="handlePlacement('rt')">å³ä¸Š</button>
        <button class="btn" @click="handlePlacement('rb')">å³ä¸‹</button>
    </div>
</template>
<script setup lang="ts">
import { LayerDialogPlaceMent, useLayerDialog } from '@v3p/layer';
import { ref } from 'vue';

const target = ref()
const to = ref()
const visible = ref(false)

// lockBoundary é”å®šè¾¹ç•Œï¼Œæ‹–åŠ¨ä¸è¶…å‡ºè¾¹ç•Œ
const { style, setPlacement } = useLayerDialog(target, { placement: "auto", to , lockBoundary: true})

function handlePlacement(placement: LayerDialogPlaceMent) {
    visible.value = true
    setPlacement(placement)
}
</script>
<style scoped>
.btn {
    background-color: gray;
    color: aliceblue;
    padding: 4px 12px;
    border-radius: 2px;
}
</style>